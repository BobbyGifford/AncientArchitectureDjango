{% extends 'base.html' %}
{% load static %}

{% block content %}
    <article class="galleryHeight bg-dark">

        <div class="text-center bg-dark text-white">
            {% if user.is_authenticated %}
                <a class="btn btn-sm btn-success mb-3" href="{% url 'add_location' %}"><i
                        class="fas fa-plus-circle"></i>
                    Add Location</a>
            {% endif %}
        </div>

        {% if locations %}

            {% for location in locations %}
                <a href="{% url 'location' location.id %}" class="fl w-25 link overflow-hidden">
                    {% if location.main_image %}
                        <div role="img" aria-label="{{ location.title }}" class="grow aspect-ratio--4x6 "
                             style="background: url({{ location.main_image.url }}) no-repeat center center; background-size: cover;"></div>
                    {% else %}
                        <div role="img" aria-label="{{ location.title }}" class="grow aspect-ratio--4x6 "
                             style="background: url({% static 'img/architectural-design1.jpg' %}) no-repeat center center; background-size: cover;"></div>
                    {% endif %}

                </a>
            {% endfor %}


            {# Pagination #}
            {#        <div class="row">#}
            {#            <div class="col-8 offset-2">#}
            {#                <nav aria-label="Page navigation example">#}
            {#                    {% if locations.has_other_pages %}#}
            {#                        <ul class="pagination">#}
            {#                            {% if locations.has_previous %}#}
            {#                                <li class="page-item">#}
            {#                                    <a href="?page={{ locations.previous_page_number }}"#}
            {#                                       class="page-link">&laquo;</a>#}
            {#                                </li>#}
            {#                            {% else %}#}
            {#                                <li class="page-item disabled">#}
            {#                                    <a class="page-link">&laquo;</a>#}
            {#                                </li>#}
            {#                            {% endif %}#}
            {#                            {% for i in locations.paginator.page_range %}#}
            {#                                {% if locations.number == i %}#}
            {#                                    <li class="page-item active">#}
            {#                                        <a href="" class="page-link">{{ i }}</a>#}
            {#                                    </li>#}
            {#                                {% else %}#}
            {#                                    <li class="page-item">#}
            {#                                        <a href="?page={{ i }}" class="page-link">{{ i }}</a>#}
            {#                                    </li>#}
            {#                                {% endif %}#}
            {#                            {% endfor %}#}
            {#                            {% if locations.has_next %}#}
            {#                                <li class="page-item">#}
            {#                                    <a href="?page={{ locations.next_page_number }}"#}
            {#                                       class="page-link">&raquo;</a>#}
            {#                                </li>#}
            {#                            {% else %}#}
            {#                                <li class="page-item disabled">#}
            {#                                    <a class="page-link">&raquo;</a>#}
            {#                                </li>#}
            {#                            {% endif %}#}
            {#                        </ul>#}
            {#                    {% endif %}#}
            {#                </nav>#}
            {#            </div>#}
            {#        </div>#}

        {% else %}
            <p>No locations</p>
        {% endif %}
    </article>

{% endblock %}